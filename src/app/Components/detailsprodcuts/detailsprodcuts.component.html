<div class="details p-2">

    <div class="infodetails d-flex gap-3 ">

        <div class="imagesdetails">
            <img  [src]="imgDomain+product.cover" alt="" class="w-100 ">
            <div class="colection d-flex align-content-center flex-wrap gap-3">
        
                @for(image of product.images; track image){
                    <img class="mt-4 " [src]="imgDomain+image" [alt]="product.name" width="100px">

                    }

             

            </div>

        </div>
        <div class="contentdetails p-3">
            <p class="card-text my-5">{{product.ratingAverage|number:'1.1-1'}}<i class="fa-solid fa-star mx-3" style="color: #FFD43B;"></i>
                <h4 class="card-text my-2 fw-bolder" >{{product.subcategory?.name}}</h4>   

             <h3 class="card-text my-2 fw-bolder" >{{product.name}}</h3>   
             <p class="my-4">{{product.description}}</p>

             <p class="fw-bold">{{product.price|currency}} </p>

             <hr>
             <div class="offer py-4">
                <p>Offer expires in:</p>

                <app-timeoffer></app-timeoffer>
             </div>
           <hr>
             <div class="btns  mt-4 d-flex  align-content-center justify-content-lg-between ">
                <button class="border-0 p-3 px-5 rounded" >Wishlist <i class="fa fa-heart ms-2" aria-hidden="true"></i></button>

                <button class="border-0 p-3 px-5 rounded btn btn-dark" >Add To Cart <i class="fa fa-cart-plus ms-2" aria-hidden="true"></i></button>
             </div>




             



        </div>
    


    </div>


    <div class="Reviews m-5 pt-4">
        <h3>Customer Reviews</h3>


       
        <div name="reviews">
            <form [formGroup]="reviewForm" (ngSubmit)="addReview(product._id!,reviewForm)">
              <div class="form-floating">
                <textarea class="form-control" formControlName="comment" placeholder="Leave a comment here"
                  id="floatingTextarea"></textarea>
                <label for="floatingTextarea">Review</label>
              </div>
              <div class="mt-3 text-danger">
                @if(reviewError!==''){ <label for="">{{reviewError}}</label> }
              </div>
              <div class="rating">
                <input type="radio" formControlName="rate" id="star5" name="rate" value="5" />
                <label class="star" for="star5" title="Awesome" aria-hidden="true"></label>
                <input type="radio" formControlName="rate" id="star4" name="rate" value="4" />
                <label class="star" for="star4" title="Great" aria-hidden="true"></label>
                <input type="radio" formControlName="rate" id="star3" name="rate" value="3" />
                <label class="star" for="star3" title="Very good" aria-hidden="true"></label>
                <input type="radio" formControlName="rate" id="star2" name="rate" value="2" />
                <label class="star" for="star2" title="Good" aria-hidden="true"></label>
                <input type="radio" formControlName="rate" id="star1" name="rate" value="1" />
                <label class="star" for="star1" title="Bad" aria-hidden="true"></label>
                <button [disabled]="reviewForm.invalid" class="btn btn-success shadow mt-2 mx-3">Add Review</button>
              </div>
            </form>
          </div>




          <div class="container">
            <hr class="my-3">
            <h2 class="text-center">Product Reviews</h2>
            <hr class="my-3">
            @for(review of product.reviews; track review._id){
            <div>
              <h4>{{review?.user?.name}}</h4>
              <p>{{review?.comment}} - {{review?.rate}}&star;</p>
              <p>{{review?.createdAt|date}}</p>
              <hr class="my-4">
            </div>
            }
          </div>
    </div>


</div>